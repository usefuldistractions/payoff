"use strict";!function(t){var a=0<arguments.length&&void 0!==t?t:window;return void 0!==a.define?a.define("Payoff",e):a.Payoff=e;function e(t){var D=this;return Object.defineProperties(this,{update:{value:function(t){if("object"!=typeof t)throw new Error("setup object required");var a=t.startMonth,e=t.startYear,r=t.duration,n=t.amount,o=t.rate/12,i=1+o,f=Math.pow(i,r),c=n*(o*f/(f-1));c=q(c,2);for(var u=0,d=0,h=0,p=n,s=[],v=0;v<=r;v++){var l=new Date(e,a+v,1),y=l.getFullYear(),g=y.toString(),M=l.getMonth()+1,P=S(M,2),w=S(l.getDate(),2),m=q(p*o,2),b=q(c-m,2);(p=q(p-b,2))<0&&(b+=p,p=0);var Y=b+m;u=q(u+b,2),d=q(d+m,2),h=q(h+Y,2),s.push({year:y,month:M,principal:p,interestPaid:m,principalPaid:b,date:"".concat(g,"-").concat(P,"-").concat(w)})}var j=s[s.length-1];D.amount=q(n,2),D.interestPaid=d,D.monthlyPayment=q(c,2),D.paid=h,D.payoffDate=j.date,D.payoffMonth=j.month,D.payoffYear=j.year,D.principalPaid=u,D.startYear=e,D.startMonth=a,D.table=s}}}),this.update(t)}function S(t,a){for(var e=Math.floor(t).toString(),r=a-e.length,n="",o=0;o<r;o++)n+="0";return"".concat(n).concat(e)}function q(t,a){var e=Math.pow(10,a),r=t*e;return Math.round(r)/e}}(void 0);